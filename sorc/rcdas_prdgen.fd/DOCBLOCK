      PROGRAM PRDGEN
C$$$  MAIN PROGRAM DOCUMENTATION BLOCK
C                .      .    .                                       .
C MAIN PROGRAM: ETA_PRDGEN
C   PRGMMR: MANIKIN          ORG: NP22        DATE: 2002-07-02
C
C ABSTRACT: PRDGEN PRODUCES FILES THAT HAVE BEEN INTERPOLATED (USING
C   IPLIB) TO VARIOUS OUTPUT GRIDS WITH OPTIONAL WMO HEADERS.  PRDGEN
C   READS THROUGH A MASTER INPUT GRIB FILE, DETERMINES WHAT GRIDS TO
C   INTERPOLATE TO, PERFORMS PRE- AND POST-INTERPOLATION SMOOTHING,
C   PACKS THE DATA INTO GRIB, ADDS A WMO HEADER, THEN WRITES THE
C   PACKED DATA TO AN OUTPUT FILE, OR SEVERAL TILES.  THE CONTROL FILE
C   SPECIFIES THE OUTPUT GRID NUMBERS, WMO HEADER TYPES, OUTPUT FILE
C   NAMES, PACKING PRECISION, NUMBER OF PRE- AND POST-INTERPOLATION
C   SMOOTHING PASSES FOR EACH GRIB FIELD THAT IS DESIRED FOR POSTING,
C   AND THE NUMBER OF SUBSETS OR TILES TO POST THE GRID ON.  THE
C   MASTER INPUT GRID SHOULD BE LARGE ENOUGH TO ENCOMPASS ALL OF THE
C   REQUESTED OUTPUT GRIDS, AND ALSO SHOULD CONTAIN ALL OF THE
C   GRIB PARAMETERS REQUIRED, SINCE PRDGEN DOES NOT PROVIDE
C   ANY DIAGNOSTIC CALCULATIONS.
C
C PROGRAM HISTORY LOG:
C   97-12-01  BALDWIN,    ORIGINATOR
C             BRILL
C   98-08-24  BALDWIN - USE TYPE 201/203 DIRECTLY, 
C                        NO FILL OF STAGGERED E-GRID
C   99-03-25  BALDWIN - ADD TILING OPTION
C   00-04-29  MANIKIN - CONVERTED TILING OPTION CODE TO SP
C   03-03-18  MANIKIN - ADDED IN NEAREST NEIGHBOR OPTION AS WELL AS
C                         ABILITY TO DISCERN FIELDS IN DIFFERENT
C                         PARAMETER TABLES
C   03-06-24  JOVIC,  - FIXED PROBLEM WITH NEAREST NEIGHBOR OPTION
C             MANIKIN     FOR VECTOR FIELDS
C
C USAGE:  MAIN PROGRAM
C
C   INPUT FILES:
C           UNIT 5  - NAME OF MASTER GRIB INPUT FILE
C           UNIT 9 - CONTROL FILE (SEE CTL_RDR FOR FORMAT)
C           UNIT 11 - MASTER GRIB INPUT FILE (OPENED WITHIN CODE
C             NO NEED TO ASSIGN)
C           UNITS 21,22,23... - INTERPOLATION WEIGHTS FILES
C           UNIT 41 - KWBX TABLE FOR WMO HEADER INFO 
C           UNIT 42 - TIME TABLE FOR WMO HEADER INFO 
C           UNIT 43 - PARM TABLE FOR WMO HEADER INFO 
C           UNIT 44 - GRID TABLE FOR WMO HEADER INFO 
C           UNIT 45 - LEVL TABLE FOR WMO HEADER INFO 
C
C   ENVIRONMENT VARIABLES: (OPTIONAL)
C           COMSP   - PATH PREFIX OF OUTPUT FILE NAMES
C           fhr     - FORECAST HOUR APPENDED TO FILE NAME
C           tmmark  - TIME MARK (tm00) APPENDED TO FILE NAME
C
C   OUTPUT FILES:
C
C           UNIT   6 - STANDARD OUTPUT
C           UNITS 51,52,53... - OUTPUT FILES OPENED WITHIN PRDGEN
C           UNITS 61,...      - OUTPUT FILES OPENED WITHIN TILE_OUT
C
C   SUBPROGRAMS CALLED:
C     UNIQUE:
C       READ_SORT_CTL - CONTROL FILE READER
C       READ_SORT_GRIB - READ IN ENTIRE INPUT GRIB FILE
C       FILTER_UV - FILTER WIND FIELD 
C       FILTER_SC - FILTER SCALAR FIELD
C       INTERP_UV - INTERPOLATE WIND FIELD
C       INTERP_SC - INTERPOLATE SCALAR FIELD
C       INTERP_PPT - INTERPOLATE PRECIP FIELD USING BUDGET METHOD
C       EXTEND - FILL IN MISSING REGIONS BY EXTENDING BOUNDARIES
C       GRIB_IN - UNPACK GRIB REPORT
C       GRIB_OUT - PACK AND WRITE OUT GRIB REPORT
C     LIBRARY:
C       W3LIB: W3FI63, W3FI72
C       IPLIB: MAKGDS, POLFIXS, POLFIXV
C       SPLIB: (FOR INTERPOLATION)
C       GEMLIB: (FOR WMO HEADER AND CONTROL READER)
C
C   EXIT STATES:
C     COND =   0 - NORMAL EXIT
C          =   10  - Error reading control file
C          =   20  - Error reading GRIB file
C          =   40  - INPUT GRIB FILE TOO LARGE (INCREASE IBUFSIZE)
C          =   99  - ERROR READING INPUT GRIB FILE
C          =   66  - INTERPOLATION WEIGHT READING ERROR
C
C ATTRIBUTES:
C   LANGUAGE: FORTRAN
C   MACHINE : IBM SP
C
C$$$
