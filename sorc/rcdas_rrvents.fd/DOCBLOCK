C$$$  MAIN PROGRAM DOCUMENTATION BLOCK
C                .      .    .                                       .
C MAIN PROGRAM: PREPFITS     QM MARKS TO PREPBUFR FILE
C   PRGMMR: JANJIC           ORG: NP22        DATE: 99-01-20  
C
C ABSTRACT: PROGRAM ADDS QM MARKS TO PREPBUFR FILE (LIKE GLOBAL)
C
C PROGRAM HISTORY LOG:
C   12-12-07  J. WOOLLEN added tolerences
C   13-01     W. EBISUZAKI conversion to linux
C   17-02     W. EBISUZAKI program failed because the tolerences
C                 for the location test were too tight.  (New obs_proc)
C                 text file(unit=20)  lat/lon to xxx.xx degrees
C                 old prepbufr:       lat/lon to xxx.xx degrees
C                 test:               abs(lat1-lat2) .le. 0.001
C                 new prepbufr:       lat/lon to xxx.xxxxxx
C                 test can fail
C                 so new test         abs(lat1-lat2) .le. 0.006   same for lon
C
C                 changed tol(x1-x2) -> tolx(x1,x2)
C                 changed tol(y1-y2) -> tolx(y2,y2)
C                 changed PARAMETER(MPP=50000,MXX=200000) to PARAMETER(MPP=90000,MXX=300000)
C                 MPP/MXX were not a problem but increase number to be safe
C
C USAGE:  MAIN PROGRAM
C
C   INPUT FILES:
C     UNIT20      TEXT FILE WITH QM MARKS
C     UNIT21      INPUT BUFR file
C   OUTPUT FILES:
C     UNIT51      Output BUFR file with obs & forecast profiles
C
C   SUBPROGRAMS CALLED:
C     UFBCPY
C     UFBINT
C     CLOSBF
C     OPENMB
C     IREADMG
C     IREADSB
C     WRITSB
C
C   EXIT STATES:
C     COND =   0 - NORMAL EXIT
C     COND =   1 - ERROR
C
C ATTRIBUTES:
C   LANGUAGE: FORTRAN 90
C   MACHINE : IBM SP
C
