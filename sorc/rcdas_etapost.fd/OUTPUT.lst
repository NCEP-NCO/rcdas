Page 1           Source Listing                  OUTPUT
2022-02-15 16:39                                 OUTPUT.f

      1       SUBROUTINE OUTPUT(IOUTYP,IFLD,ILVL,GRID,IMOUT,JMOUT)
      2 C$$$  SUBPROGRAM DOCUMENTATION BLOCK
      3 C                .      .    .     
      4 C SUBPROGRAM:    OUTPUT      DRIVER FOR PACKING/POSTING ROUTINES.
      5 C   PRGRMMR: TREADON         ORG: W/NP2      DATE: 92-12-24       
      6 C     
      7 C ABSTRACT:
      8 C   .     
      9 C     
     10 C PROGRAM HISTORY LOG:
     11 C   93-02-26  RUSS TREADON
     12 C   93-06-13  RUSS TREADON - ADDED COMBINED ON84 AND GRIB PACKING OPTION.
     13 C   98-07-17  MIKE BALDWIN - REMOVED PACK84
     14 C   00-01-04  JIM TUCCILLO - MPI VERSION
     15 C     
     16 C USAGE:    CALL OUTPUT(IOUTYP,IFLD,ILVL,GRID,IMOUT,JMOUT)
     17 C   INPUT ARGUMENT LIST:
     18 C     IOUTYP   - INTEGER FLAG FOR TYPE OF OUTPUT.
     19 C     IFLD     - LOCATION OF FIELD INFORMATION IN ARRAYS.
     20 C     ILVL     - INDEX OF LEVEL (P,ETA,SFC) OF GRID.
     21 C     GRID     - OUTPUT GRID.
     22 C     IMOUT    - FIRST DIMENSION OF OUTPUT GRID.
     23 C     JMOUT    - SECOND DIMENSION OF OUTPUT GRID.
     24 C
     25 C   OUTPUT ARGUMENT LIST: 
     26 C     NONE
     27 C     
     28 C   OUTPUT FILES:
     29 C     NONE
     30 C     
     31 C   SUBPROGRAMS CALLED:
     32 C     UTILITIES:
     33 C       NOPACK   - WRITE DATA AS UNFORMATTED BINARY CRAY WORDS.
     34 C       GRIBIT   - PACK/WRITE DATA IN GRIB FORMAT.
     35 C     LIBRARY:
     36 C       NONE
     37 C     
     38 C   ATTRIBUTES:
     39 C     LANGUAGE: FORTRAN
     40 C     MACHINE : CRAY C-90
     41 C$$$  
     42 C     
     43 C     
     44       INCLUDE "parmeta"
     62       INCLUDE "parmout"
     66       INCLUDE "CTLBLK.comm"
     81       INCLUDE "BITMAP.comm"
     82 C     
     83 C     DECLARE VARIABLES.
     89       DIMENSION GRID(IMOUT,JMOUT)
     90 C
     91       common/jjt/time_output, time_e2out
     92       real(8) ist, rtc, time_output, time_e2out
     93 C***********************************************************
     94 C     START OUPUT HERE.
     95 C     
     96 C     BRANCH TO APPROPRIATE OUTPUT ROUTINE.

Page 2           Source Listing                  OUTPUT
2022-02-15 16:39                                 OUTPUT.f

     97 C    
     98       ist = rtc()
     99       CALL COLLECT(GRID)
    100       CALL COLLECT(IBMAP)
    101       IF ( ME .EQ. 0 ) THEN
    102 cwas  call stat(grid,imout,jmout)
    103 
    104         write(*,*) 'output >> ioutyp=',ioutyp,imout,jmout
    105         write(*,*) 'output >>gribit'
    106       IF (IOUTYP.EQ.1) CALL NOPACK(IFLD,ILVL,GRID,IMOUT,JMOUT)
    107       IF (IOUTYP.EQ.3) CALL GRIBIT(IFLD,ILVL,GRID,IMOUT,JMOUT)
    108       IF (IOUTYP.EQ.5) CALL GRIBIT(IFLD,ILVL,GRID,IMOUT,JMOUT)
    109         write(*,*) 'output << gribit'
    110       END IF
    111       time_output = time_output + rtc() - ist
    112 C
    113 C     END OF ROUTINE.
    114 C
    115       RETURN
    116       END


ENTRY POINTS

  Name               
                     
 output_             


SYMBOL CROSS REFERENCE

 Name                       Object Declared Type            Bytes Dimen Elements Attributes       References                        
                                                                                                                                    
 BITMAP                     Common 85                                   366876   SAVE                                               
 COLLECT                    Subr   99                                                             99,100                            
 CTLBLK                     Common 68                                   96       SAVE                                               
 GRIBIT                     Subr   107                                                            107,108                           
 GRID                       Dummy  1        R(4)            4     2     0        ARG,INOUT        99,106,107,108                    
 IDIM1                      Param  58       I(4)            4           scalar                                                      
 IDIM2                      Param  58       I(4)            4           scalar                                                      
 IFLD                       Dummy  1        I(4)            4           scalar   ARG,INOUT        106,107,108                       
 IGSTL                      Param  53       I(4)            4           scalar                    58                                
 IGSTR                      Param  53       I(4)            4           scalar                    58                                
 ILVL                       Dummy  1        I(4)            4           scalar   ARG,INOUT        106,107,108                       
 IM                         Param  47       I(4)            4           scalar                    55,58,65                          
 IMOUT                      Dummy  1        I(4)            4           scalar   ARG,INOUT        89,104,106,107,108                
 IMX                        Param  65       I(4)            4           scalar                    86                                
 INPES                      Param  50       I(4)            4           scalar                    55,58                             
 IOUTYP                     Dummy  1        I(4)            4           scalar   ARG,INOUT        104,106,107,108                   
 IST                        Local  92       R(8)            8           scalar                    98,111                            
 ITAIL                      Param  55       I(4)            4           scalar                                                      
 JDIM1                      Param  59       I(4)            4           scalar                                                      
 JDIM2                      Param  59       I(4)            4           scalar                                                      
 JGSTL                      Param  54       I(4)            4           scalar                    59                                
 JGSTR                      Param  54       I(4)            4           scalar                    59                                
 JJT                        Common 91                                   16                                                          
 JM                         Param  47       I(4)            4           scalar                    56,59,65                          

Page 3           Source Listing                  OUTPUT
2022-02-15 16:39 Symbol Table                    OUTPUT.f

 Name                       Object Declared Type            Bytes Dimen Elements Attributes       References                        
                                                                                                                                    
 JMOUT                      Dummy  1        I(4)            4           scalar   ARG,INOUT        89,104,106,107,108                
 JMX                        Param  65       I(4)            4           scalar                    86                                
 JNPES                      Param  50       I(4)            4           scalar                    56,59                             
 JTAIL                      Param  56       I(4)            4           scalar                                                      
 LM                         Param  47       I(4)            4           scalar                    65                                
 LSM                        Param  47       I(4)            4           scalar                                                      
 MXFLD                      Param  65       I(4)            4           scalar                                                      
 MXLVL                      Param  65       I(4)            4           scalar                                                      
 NOPACK                     Subr   106                                                            106                               
 OUTPUT                     Subr   1                                                                                                
 PARALLEL                   Common 75                                   8240                                                        
 RTC                        Func   92       R(8)            8           scalar                    98,111                            


TYPE COMPONENTS/COMMON VARIABLES

 Name                       Type            Bytes Offset   Dimen Elements Attributes       References                         
                                                                                                                              
 DT                         R(4)            4     48             scalar   COM                                                 
 FIRST                      R(4)            4     24             scalar   COM                                                 
 IBMAP                      I(4)            4     0        2     91719    COM              100                                
 ICNT                       I(4)            4     40       1     1024     COM                                                 
 IDAT                       I(4)            4     8        1     3        COM                                                 
 IDN                        I(4)            4     36             scalar   COM                                                 
 IDSP                       I(4)            4     4136     1     1024     COM                                                 
 IDTAD                      I(4)            4     68             scalar   COM                                                 
 IHRST                      I(4)            4     20             scalar   COM                                                 
 IOUT                       I(4)            4     44             scalar   COM                                                 
 IUP                        I(4)            4     32             scalar   COM                                                 
 JEND                       I(4)            4     12             scalar   COM                                                 
 JEND_2U                    I(4)            4     8236           scalar   COM                                                 
 JEND_M                     I(4)            4     20             scalar   COM                                                 
 JEND_M2                    I(4)            4     28             scalar   COM                                                 
 JSTA                       I(4)            4     8              scalar   COM                                                 
 JSTA_2L                    I(4)            4     8232           scalar   COM                                                 
 JSTA_M                     I(4)            4     16             scalar   COM                                                 
 JSTA_M2                    I(4)            4     24             scalar   COM                                                 
 LIST                       I(4)            4     40             scalar   COM                                                 
 ME                         I(4)            4     4              scalar   COM              101                                
 NBC                        I(4)            4     36             scalar   COM                                                 
 NBOCO                      I(4)            4     72             scalar   COM                                                 
 NCP                        I(4)            4     80             scalar   COM                                                 
 NDDAMP                     I(4)            4     60             scalar   COM                                                 
 NFCST                      I(4)            4     32             scalar   COM                                                 
 NPHS                       I(4)            4     84             scalar   COM                                                 
 NPREC                      I(4)            4     64             scalar   COM                                                 
 NRADL                      I(4)            4     92             scalar   COM                                                 
 NRADS                      I(4)            4     88             scalar   COM                                                 
 NSHDE                      I(4)            4     76             scalar   COM                                                 
 NTSD                       I(4)            4     52             scalar   COM                                                 
 NTSTM                      I(4)            4     56             scalar   COM                                                 
 NUM_PROCS                  I(4)            4     0              scalar   COM                                                 
 RESTRT                     R(4)            4     28             scalar   COM                                                 
 RUN                        R(4)            4     4              scalar   COM                                                 
 SIGMA                      R(4)            4     0              scalar   COM                                                 

Page 4           Source Listing                  OUTPUT
2022-02-15 16:39 Symbol Table                    OUTPUT.f

 Name                       Type            Bytes Offset   Dimen Elements Attributes       References                         
                                                                                                                              
 TIME_E2OUT                 R(8)            8     8              scalar   COM                                                 
 TIME_OUTPUT                R(8)            8     0              scalar   COM              111                                

Page 5           Source Listing                  OUTPUT
2022-02-15 16:39 Subprograms/Common Blocks       OUTPUT.f



SUBPROGRAMS/COMMON BLOCKS

 Name                       Object Declared Type            Bytes Dimen Elements Attributes       References                        
                                                                                                                                    
 BITMAP                     Common 85                                   366876   SAVE                                               
 CTLBLK                     Common 68                                   96       SAVE                                               
 JJT                        Common 91                                   16                                                          
 OUTPUT                     Subr   1                                                                                                
 PARALLEL                   Common 75                                   8240                                                        

COMPILER OPTIONS BEING USED

       -align noall                          -align nonone
       -align nocommons                      -align nodcommons
       -align noqcommons                     -align nozcommons
       -align records                        -align nosequence
       -align norec1byte                     -align norec2byte
       -align norec4byte                     -align norec8byte
       -align norec16byte                    -align norec32byte
       -align norec64byte                    -align noarray8byte
       -align noarray16byte                  -align noarray32byte
       -align noarray64byte                  -align noarray128byte
       -align noarray256byte                 -altparam
       -assume accuracy_sensitive            -assume nobscc
       -assume nobuffered_io                 -assume nobuffered_stdout
       -assume byterecl                      -assume nocontiguous_assumed_shape
       -assume nocontiguous_pointer          -assume nocc_omp
       -assume nocstring                     -assume nodummy_aliases
       -assume nofpe_summary                 -assume noieee_fpe_flags
       -assume nominus0                      -assume noold_boz
       -assume old_complex_align             -assume old_unit_star
       -assume old_inquire_recl              -assume old_ldout_format
       -assume old_ldout_zero                -assume noold_logical_assign
       -assume noold_logical_ldio            -assume old_maxminloc
       -assume old_xor                       -assume noprotect_allocates
       -assume protect_constants             -assume noprotect_parens
       -assume split_common                  -assume source_include
       -assume nostd_intent_in               -assume std_minus0_rounding
       -assume nostd_mod_proc_name           -assume std_value
       -assume realloc_lhs                   -assume underscore
       -assume no2underscores                -assume norecursion
  no   -auto                                 -auto_scalar
  no   -bintext                              -ccdefault default
       -check noarg_temp_created             -check noassume
       -check nobounds                       -check nocontiguous
       -check noformat                       -check nooutput_conversion
       -check nooverflow                     -check nopointers
       -check noshape                        -check nostack
       -check nouninitialized                -check noudio_iostat
       -coarray-num-procs 0             no   -coarray-config-file
       -convert big_endian                   -cross_reference
       -D __INTEL_COMPILER=1910              -D __INTEL_COMPILER_UPDATE=3
       -D __unix__                           -D __unix
       -D __linux__                          -D __linux
       -D __gnu_linux__                      -D unix

Page 6           Source Listing                  OUTPUT
2022-02-15 16:39                                 OUTPUT.f

       -D linux                              -D __ELF__
       -D __x86_64                           -D __x86_64__
       -D __amd64                            -D __amd64__
       -D __INTEL_COMPILER_BUILD_DATE=20200925       -D __INTEL_OFFLOAD
       -D __MMX__                            -D __SSE__
       -D __SSE_MATH__                       -D __SSE2__
       -D __SSE2_MATH__                      -D __SSE3__
       -D __SSSE3__                          -D __SSE4_1__
       -D __SSE4_2__                         -D __POPCNT__
       -D __PCLMUL__                         -D __AES__
       -D __AVX__                            -D __F16C__
       -D __AVX_I__                          -D __RDRND__
       -D __FMA__                            -D __FP_FAST_FMA
       -D __FP_FAST_FMAF                     -D __BMI__
       -D __LZCNT__                          -D __AVX2__
       -D __haswell                          -D __haswell__
       -D __tune_haswell__                   -D __core_avx2
       -D __core_avx2__                      -D __tune_core_avx2__
       -D __CRAY_X86_ROME                    -D __CRAYXT_COMPUTE_LINUX_TARGET
       -double_size 64                  no   -d_lines
  no   -Qdyncom                              -error_limit 30
  no   -f66                             no   -f77rtl
  no   -fast                                 -fpscomp nofilesfromcmd
       -fpscomp nogeneral                    -fpscomp noioformat
       -fpscomp noldio_spacing               -fpscomp nologicals
       -fixed                           no   -fpconstant
       -fpe3                                 -fprm nearest
  no   -ftz                                  -fp_model noprecise
       -fp_model fast                        -fp_model nostrict
       -fp_model nosource                    -fp_model nodouble
       -fp_model noextended                  -fp_model novery_fast
       -fp_model noexcept                    -fp_model nono_except
       -heap_arrays 0                   no   -threadprivate_compat
       -g2                                   -iface nomixed_str_len_arg
       -iface nono_mixed_str_len_arg         -init noarrays
       -init nohuge                          -init noinfinity
       -init nominus_huge                    -init nominus_infinity
       -init nominus_tiny                    -init nonan
       -init nosnan                          -init notiny
       -init nozero                     no   -intconstant
       -integer_size 32                 no   -mixed_str_len_arg
  no   -module                               -names lowercase
  no   -noinclude                       no   -o
       -offload-build=host                   -openmp-simd
       -O2                              no   -pad_source
       -real_size 32                    no   -recursive
       -reentrancy threaded                  -vec=simd
       -show nofullpath                      -show noinclude
       -show map                             -show options
  no   -syntax_only                     no   -threadcom
  no   -U                               no   -vms
       -w noall                              -w nonone
       -w alignments                         -w nodeclarations
       -w noexternals                        -w general
       -w noignore_bounds                    -w noignore_loc
       -w nointerfaces                       -w noshape
       -w notruncated_source                 -w uncalled

Page 7           Source Listing                  OUTPUT
2022-02-15 16:39                                 OUTPUT.f

       -w uninitialized                      -w nounused
       -w usage                         no   -wrap-margins

       -includepath : /pe/intel/compilers_and_libraries_2020.4.304/linux/pstl/include/,/pe/intel/compilers_and_libraries_2020.4.304/linux/compiler/include/,
           .f90,./.f90,/opt/cray/pe/mpich/8.1.9/ofi/intel/19.0/include/.f90,/pe/intel/compilers_and_libraries_2020.4.304/linux/ipp/include/.f90,
           /pe/intel/compilers_and_libraries_2020.4.304/linux/mkl/include/.f90,/pe/intel/compilers_and_libraries_2020.4.304/linux/pstl/include/.f90,
           /pe/intel/compilers_and_libraries_2020.4.304/linux/pstl/stdlib/.f90,/pe/intel/compilers_and_libraries_2020.4.304/linux/tbb/include/.f90,
           /pe/intel/compilers_and_libraries_2020.4.304/linux/compiler/include/intel64/.f90,/pe/intel/compilers_and_libraries_2020.4.304/linux/compiler/include/icc/.f90,
           /pe/intel/compilers_and_libraries_2020.4.304/linux/compiler/include/.f90,/usr/lib64/gcc/x86_64-suse-linux/7/include/.f90,
           /usr/lib64/gcc/x86_64-suse-linux/7/include-fixed/.f90,/usr/include/.f90,/usr/include/.f90,/usr/include/.f90
       -list filename : OUTPUT.lst
  no   -o

COMPILER: Intel(R) Fortran 19.1-1655
